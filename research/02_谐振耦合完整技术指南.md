# 谐振耦合无线充电完整技术指南
## Complete Resonant Inductive Coupling Technical Guide

---

## 一、基本原理

### 1.1 谐振耦合原理

```
发射端（Tx）                   接收端（Rx）
┌─────────────┐              ┌─────────────┐
│  发射线圈    │              │  接收线圈    │
│  L₁ + C₁    │ ←── 磁场 ──→ │  L₂ + C₂    │
│  谐振频率f₀  │              │  谐振频率f₀  │
└─────────────┘              └─────────────┘
```

**关键点**：
1. **两个线圈调谐到相同谐振频率** f₀
2. **磁场耦合**：发射线圈产生的交变磁场被接收线圈接收
3. **谐振放大**：在谐振频率下，功率传输效率最高

### 1.2 谐振频率公式

```
f₀ = 1 / (2π × √(L × C))
```

其中：
- **L** = 线圈电感（H）
- **C** = 谐振电容（F）
- **f₀** = 谐振频率（Hz）

---

## 二、系统架构

### 2.1 完整系统框图

```
发射端：
┌──────────────────────────────────────┐
│  AC/DC电源 → DC-DC转换 → 高频逆变器  │
│                     ↓                 │
│              补偿网络（LCC/S-S）      │
│                     ↓                 │
│              发射线圈 L₁              │
│              + 谐振电容 C₁            │
└──────────────────────────────────────┘
                ↓ 磁场耦合
接收端：
┌──────────────────────────────────────┐
│  接收线圈 L₂ + 谐振电容 C₂           │
│           ↓                           │
│      整流电路（全桥/半桥）            │
│           ↓                           │
│      DC-DC稳压（可选）                │
│           ↓                           │
│      负载（鼠标/机器人）               │
└──────────────────────────────────────┘
```

### 2.2 补偿网络类型

**S-S补偿（推荐用于大功率）**：
```
发射端：     [线圈L₁] -- [电容C₁]
接收端：     [线圈L₂] -- [电容C₂]
```
- **优点**：电流大，适合大功率传输
- **缺点**：对距离敏感

**LCC补偿（推荐用于高效率）**：
```
发射端：     [电感Lf] -- [电容Cf] -- [线圈L₁] || [电容C₁]
接收端：     [线圈L₂] -- [电容C₂]
```
- **优点**：效率高，负载适应性强
- **缺点**：参数多，设计复杂

---

## 三、线圈设计

### 3.1 电感计算

**平面螺旋线圈**：
```
L ≈ μ₀ × N² × r × ln(8r/a) / 2
```

其中：
- **L** = 电感（H）
- **N** = 匝数
- **r** = 线圈平均半径（m）
- **a** = 导线半径（m）
- **μ₀** = 4π×10⁻⁷ H/m

### 3.2 谐振电容计算

```
C = 1 / (4π² × f₀² × L)
```

### 3.3 线圈制作方法

**PCB线圈**（小功率）：
- 精度高，一致性好
- 成本低（批量生产）
- 适用：鼠标垫、小功率接收

**绕制线圈**（大功率）：
- 使用Litz线（多股线，降低高频损耗）
- 功率大，效率高
- 适用：机器人接收、桌面基站

---

## 四、补偿网络设计

### 4.1 S-S补偿设计

**步骤**：
1. 确定谐振频率 f₀
2. 测量线圈电感 L₁, L₂
3. 计算谐振电容：
   ```
   C₁ = 1 / (4π² × f₀² × L₁)
   C₂ = 1 / (4π² × f₀² × L₂)
   ```
4. 选择电容：C0G/NP0陶瓷电容，留电压余量

### 4.2 LCC补偿设计

**补偿电感**：
```
Lf = k × L₁  (k = 0.1-0.3)
```

**补偿电容**：
```
Cf = 1 / (4π² × f₀² × Lf)
```

**谐振电容**：
```
C₁ = (1 - k) / (4π² × f₀² × L₁)
```

---

## 五、功率电路设计

### 5.1 发射端

**全桥逆变器**（大功率）：
- MOSFET：IRF540或SiC MOSFET
- 驱动：IR2110, TC4427
- 频率：等于或略低于谐振频率

**半桥逆变器**（小功率）：
- 简化设计，成本低

### 5.2 接收端

**全桥整流**：
- 肖特基二极管（低电压降）
- SiC二极管（高频高效）

**稳压电路**：
- DC-DC转换器（效率>90%）
- 可选：LDO（简单但效率低）

---

## 六、距离与效率关系

### 6.1 为什么1-2米距离效率还能40-60%？

**关键原因**：

**1. 耦合系数k的衰减不是完全的r^-3**
- 线圈有**有限尺寸**（r₁, r₂ ≠ 0）
- 在中等距离（r ~ r₁, r₂）时，衰减更慢
- 实际衰减介于r^-2和r^-3之间

**2. 谐振的高Q值补偿**
- 品质因数Q = 100-500（高Q值）
- 功率传输 ∝ k² × Q²
- 高Q值的平方放大效应补偿了k的衰减

**3. 频率选择**
- 选择较低频率（85 kHz, 13.56 MHz）
- 近场范围大（r_transition >> 工作距离）
- 线圈可以做大（提高耦合）

### 6.2 效率公式

**谐振耦合效率**（S-S补偿）：
```
η = k² × Q₁ × Q₂ / (1 + k² × Q₁ × Q₂)
```

**关键参数**：
- **k** = 耦合系数（0.1-0.3 @ 1米）
- **Q₁, Q₂** = 品质因数（100-500，优化后）
- **Q** = ωL / R = 2πfL / R

### 6.3 实际数据

**论文验证**（arXiv:2411.17505）：
```
距离    功率    效率
0.5m    200W    65%
1.0m    109.7W  47.14% ⭐
1.5m    50W     30%
2.0m    20W     15%
```

**分析**：
- 距离从0.5m到1m（2倍）：效率从65%降到47%（1.38倍）
- **不是2³=8倍衰减！**
- 因为k的衰减不是完全的r^-3，且高Q值补偿

### 6.4 物理机制

**互感公式**（两个平行圆形线圈）：
```
M(r) ≈ (μ₀ × π × r₁² × r₂² × N₁ × N₂) / (2 × (r² + d²)^(3/2))
```

**当r ≈ r₁, r₂时**（中等距离）：
- M衰减介于r^-2和r^-3之间
- **不是完全的r^-3**

**谐振放大效应**：
```
没有谐振（Q = 10-50）：
效率 ≈ k² × Q² ≈ 0.01 × 25 = 2.5%  （很低）

有谐振（Q = 100-200）：
效率 ≈ k² × Q² / (1 + k² × Q²)
     ≈ 0.01 × 150 / (1 + 1.5) = 60%  （高！）
```

---

## 七、实现步骤

### 7.1 需求分析

**明确参数**：
- 功率需求：P_out = ? W
- 工作距离：d = ? m
- 工作频率：f₀ = ? （推荐：85 kHz, 13.56 MHz）
- 输入/输出电压

### 7.2 线圈设计

1. 确定线圈尺寸（根据应用）
2. 计算或测量电感
3. 选择线圈类型（PCB或绕制）
4. 制作线圈

### 7.3 补偿网络设计

1. 选择补偿类型（S-S或LCC）
2. 计算电容值
3. 选择电容（C0G/NP0，低损耗）

### 7.4 功率电路设计

1. 发射端：高频逆变器
2. 接收端：整流电路
3. PCB设计（布局优化）

### 7.5 测试与调试

1. 谐振频率测试和调谐
2. 功率和效率测试
3. 优化参数

---

## 八、设计案例

### 案例1：鼠标垫无线充电（100mW）

**参数**：
- 功率：0.1 W
- 距离：0-2 cm
- 频率：13.56 MHz
- 发射线圈：直径20 cm，PCB线圈
- 接收线圈：直径6 cm，PCB线圈

**设计**：
- 发射：L₁ = 2 µH, C₁ = 27 pF
- 接收：L₂ = 1 µH, C₂ = 55 pF
- 效率目标：>70%

### 案例2：机器人无线充电（100W）

**参数**：
- 功率：100 W
- 距离：1 m
- 频率：85 kHz
- 发射线圈：直径50 cm，Litz线绕制
- 接收线圈：直径30 cm，Litz线绕制

**设计**：
- 发射：L₁ = 50 µH, LCC补偿
- 接收：L₂ = 30 µH, C₂ = 117 nF
- 效率目标：>45%（1米距离）

---

## 九、常见问题

### 问题1：效率太低

**原因**：
- 谐振频率不匹配
- 耦合系数太低
- 补偿网络不合适

**解决**：
1. 精确测量和调整谐振频率
2. 优化线圈位置和间距
3. 尝试不同补偿网络（S-S → LCC）

### 问题2：功率传输不稳定

**原因**：
- 频率漂移
- 负载变化

**解决**：
1. 使用锁相环（PLL）锁定频率
2. 实现动态频率调谐

### 问题3：发热严重

**解决**：
1. 使用Litz线降低高频损耗
2. 使用SiC器件降低开关损耗
3. 优化散热设计

---

## 十、工具与资源

### 10.1 仿真软件

- **COMSOL Multiphysics**：3D场仿真（推荐）
- **ANSYS HFSS**：高频电磁仿真
- **LTspice**：电路仿真
- **OpenEMS**：开源FDTD仿真

### 10.2 测试设备

- **LCR表**：测量电感和电容
- **示波器**：观察波形
- **功率计**：测量功率和效率
- **网络分析仪**：精确测量谐振频率

### 10.3 参考资源

- **论文**：arXiv:2411.17505（109.7W @ 1m案例）
- **标准**：Qi标准文档，AirFuel Alliance标准

---

*文档整合日期：2025年*
*整合来源：resonant_coupling_implementation_guide.md + resonant_coupling_distance_efficiency_explanation.md*

